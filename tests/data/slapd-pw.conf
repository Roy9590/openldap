# $OpenLDAP$
#
# master slapd config -- for testing
#
#include		./data/slapd.at.conf
#include		./data/slapd.oc.conf
include ./schema/core.schema
include ./schema/cosine.schema
include ./schema/inetorgperson.schema
schemacheck	off
pidfile     ./test-db/slapd.pid
argsfile    ./test-db/slapd.args

# password-hash	{md5}

#######################################################################
# ldbm database definitions
#######################################################################

database	ldbm
cachesize	0
suffix		"o=University of Michigan, c=US"
directory	./test-db
rootdn		"cn=Manager, o=University of Michigan, c=US"
rootpw		secret
index		cn,sn,uid	pres,eq,approx
index		default		none
lastmod		on
defaultaccess	none

#
# normal installations should protect root dse,
# cn=monitor, cn=schema, and cn=config
#

access to attr=userpassword
	by anonymous auth
	by self write

access to *
	by self write
	by * read
