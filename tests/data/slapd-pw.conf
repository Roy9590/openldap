# $OpenLDAP$
#
# master slapd config -- for testing
#
ucdata-path	./ucdata
include ./schema/core.schema
include ./schema/cosine.schema
include ./schema/inetorgperson.schema
include ./schema/openldap.schema
include ./schema/nis.schema
pidfile     ./testrun/slapd.1.pid
argsfile    ./testrun/slapd.1.args

# password-hash	{md5}

modulepath      ../servers/slapd/back-@BACKEND@/
@MODULELOAD@

#######################################################################
# ldbm database definitions
#######################################################################

database	@BACKEND@
#ldbm#cachesize	0
suffix		"o=University of Michigan,c=US"
directory	./testrun/db.1.a
rootdn		"cn=Manager,o=University of Michigan,c=US"
rootpw		secret
index		objectClass	eq
index		cn,sn,uid	pres,eq,sub

#
# normal installations should protect root dse,
# cn=monitor, cn=schema, and cn=config
#

access to attr=userpassword
	by anonymous auth
	by self write

access to *
	by self write
	by * read
