# master slapd config -- for testing
# $OpenLDAP$
## This work is part of OpenLDAP Software <http://www.openldap.org/>.
##
## Copyright 1998-2003 The OpenLDAP Foundation.
## All rights reserved.
##
## Redistribution and use in source and binary forms, with or without
## modification, are permitted only as authorized by the OpenLDAP
## Public License.
##
## A copy of this license is available in the file LICENSE in the
## top-level directory of the distribution or, alternatively, at
## <http://www.OpenLDAP.org/license.html>.

#ucdata-path	./ucdata
include ./schema/core.schema
include ./schema/cosine.schema
include ./schema/inetorgperson.schema
include ./schema/openldap.schema
include ./schema/nis.schema
pidfile     ./testrun/slapd.1.pid
argsfile    ./testrun/slapd.1.args

#sqlmod#modulepath ../servers/slapd/back-sql/
#sqlmod#moduleload back_sql.la
#monitormod#modulepath ../servers/slapd/back-monitor/
#monitormod#moduleload back_monitor.la

#
# normal installations should protect root dse,
# cn=monitor, cn=schema, and cn=config
#

access to attr=userpassword
	by self =wx
	by anonymous =x

access to *
	by * read

#######################################################################
# sql database definitions
#######################################################################

database        sql
suffix          "o=Example,c=RU"
rootdn		"cn=Manager,o=Example,c=RU"
rootpw          secret
dbname          example
dbuser          manager
dbpasswd        secret

#
# rdbms specific directives
#
# PostgreSQL
#postgres#insentry_query  "insert into ldap_entries (id,dn,oc_map_id,parent,keyval) values ((select case when max(id) is null then 1 else max(id) + 1 end from ldap_entries),?,?,?,?)"
#postgres#upper_func      "upper"
#postgres#strcast_func    "text"
#postgres#concat_pattern  "?||?"
#
# MySQL
#mysql#concat_pattern  "concat(?,?)"

has_ldapinfo_dn_ru      no

#monitor#database monitor
