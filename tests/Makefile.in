# $OpenLDAP$
## Copyright 1998-2003 The OpenLDAP Foundation, All Rights Reserved.
## COPYING RESTRICTIONS APPLY, see COPYRIGHT file
##
## tests Makefile.in for OpenLDAP
RUN=./run
SUBDIRS= progs

BUILD_BDB=@BUILD_BDB@
BUILD_HDB=@BUILD_HDB@
BUILD_LDBM=@BUILD_LDBM@

test tests:
	@$(MAKE) bdb
	@$(MAKE) hdb
	@$(MAKE) ldbm

bdb test-bdb:	bdb-$(BUILD_BDB)
bdb-no:
	@echo "run configure with --enable-bdb"

bdb-yes bdb-mod: FORCE
	@echo "Initiating LDAP tests for BDB..."
	@$(RUN) -b bdb all

hdb test-hdb:	hdb-$(BUILD_HDB)
hdb-no:
	@echo "run configure with --enable-hdb"

hdb-yes hdb-mod: FORCE
	@echo "Initiating LDAP tests for HDB..."
	@$(RUN) -b hdb all

ldbm test-ldbm:	ldbm-$(BUILD_LDBM)
ldbm-no:
	@echo "run configure with --enable-ldbm"

ldbm-yes ldbm-mod:	FORCE
	@echo "Initiating LDAP tests for LDBM..."
	@$(RUN) -b ldbm all

clean-local:	FORCE
	-$(RM) -r test-db* test-repl* *leak *gmon *core

veryclean-local: FORCE
	@-$(RM) data schema ucdata

