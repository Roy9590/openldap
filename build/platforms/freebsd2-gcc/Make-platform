#
# LDAP FreeBSD GNU C Make-platform file
#


#
# add any platform-specific overrides below here
#
EXTRACFLAGS=-O -g
LDBMBACKEND=-DLDBM_USE_DBBTREE
LDBMINCLUDE=-I/usr/include

EDITOR=/usr/bin/vi
FINGER=/usr/bin/finger
SENDMAIL=/usr/sbin/sendmail

LDAP_RUNDIR=/var/run

MANCOMPRESS=gzip
MANCOMPRESSSUFFIX=.gz

# On most (if not all) 2.X versions of FreeBSD, Pthread(3) is not
# installed by default.  As such, -DNO_THREADS is used by default
# on FreeBSD 2.X.
#
# FreeBSD 2.2.5 comes with a Chris Provenzano Pthreads
# package, # but it must be manually built.  See pthread(3) for details.
# OpenLDAP is compatible with this version, uncomment the following
# options:
#
#THREADS= -DPOSIX_THREADS -D_THREAD_SAFE \
#	-DPTHREAD_PREEMPTIVE -DSCHED_YIELD_MISSING
#THREADSLIB= -lc_r
#
# Some versions of FreeBSD support the gcc option "-pthread" to
# link with -lc_r.  On those systems, uncomment the following:
#THREADSLIB= -pthread
#
#
# If the only thread package available is only Draft 4 compliant,
# you can try the following:
#THREADS= -DTHREAD_MIT_PTHREADS -D_THREAD_SAFE -DPTHREAD_PREEMPTIVE
#
# Note:
# LDAP has a problem with the idea of implicit vs. explicit yields
# in call conversion threading packages, like the MIT pthreads
# package.  Rather than resolve this globally, I (Terry Lambert) have
# marked the threading as "preeemptive", even though it is
# technically not.
# This means that the implicit-yield threading is topologically
# equivalent to preemptive threading.

# crypt(3) is in a separate library
LDAP_CRYPT_LIB= -lcrypt

#
# -------------------------------------------------------------------------
# you will probably not need to edit anything below this point
# -------------------------------------------------------------------------
CC	= gcc
PLATFORMCFLAGS=	-Dfreebsd
