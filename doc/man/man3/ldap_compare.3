.TH LDAP_COMPARE 3 "RELEASEDATE" "OpenLDAP LDVERSION"
.\" $OpenLDAP$
.\" Copyright 1998-2006 The OpenLDAP Foundation All Rights Reserved.
.\" Copying restrictions apply.  See COPYRIGHT/LICENSE.
.SH NAME
ldap_compare, ldap_compare_s, ldap_compare_ext, ldap_compare_ext_s \- Perform an LDAP compare operation.
.SH LIBRARY
OpenLDAP LDAP (libldap, -lldap)
.SH SYNOPSIS
.nf
.ft B
#include <ldap.h>
.LP
.ft B
int ldap_compare_s(ld, dn, attr, value)
.ft
LDAP *ld;
char *dn, *attr, *value;
.LP
.ft B
int ldap_compare(ld, dn, attr, value)
.ft
LDAP *ld;
char *dn, *attr, *value;
.LP
.ft B
int ldap_compare_ext(ld, dn, attr, bvalue, serverctrls, clientctrls, msgidp)
.ft
LDAP *ld;
char *dn, *attr;
const struct berval *bvalue;
LDAPControl **serverctrls, **clientctrls;
int *msgidp;
.LP
.ft B
int ldap_compare_ext_s(ld, dn, attr, bvalue, serverctrls, clientctrls)
.ft
LDAP *ld;
char *dn, *attr;
const struct berval *bvalue;
LDAPControl **serverctrls, **clientctrls;
.SH DESCRIPTION
The
.B ldap_compare_s()
routine is used to perform an LDAP compare operation
synchronously.  It takes \fIdn\fP, the DN of the entry upon which to perform
the compare, and \fIattr\fP and \fIvalue\fP, the attribute type and value to
compare to those found in the entry.  It returns an LDAP error code, which
will be LDAP_COMPARE_TRUE if the entry contains the attribute value and
LDAP_COMPARE_FALSE if it does not.  Otherwise, some error code is returned.
.LP
The
.B ldap_compare()
routine is used to perform an LDAP compare operation
asynchronously.  It takes the same parameters as
.BR ldap_compare_s() ,
but returns the message id of the request it initiated.  The result of
the compare can be obtained by a subsequent call to
.BR ldap_result (3).
.LP
The
.B ldap_compare_ext()
routine  allows  server  and client controls to be 
specified to extend the compare request. This routine is asynchronous like 
ldap_compare(),  but its return value is an LDAP error code. It stores the 
message id of the request in the integer pointed to by msgidp.
.LP
The
.B ldap_compare_ext_s()
routine is the synchronous version of
.BR ldap_compare_ext().
It also returns an LDAP error code indicating success 
or failure of the operation.
.SH ERRORS
.B ldap_compare_s()
returns an LDAP error code which can be interpreted
by calling one of
.BR ldap_perror (3)
and friends.  ldap_compare() returns
-1 if something went wrong initiating the request.  It returns the
non-negative message id of the request if things went ok.
.LP
.B ldap_compare_ext_s()
and
.B ldap_compare_ext()
return some Non-zero value other than 0x05 or 0x06 in case of failure.
0x05 corresponds to LDAP_COMPARE_FALSE and 0x06 corresponds to LDAP_COMPARE_TRUE.
.SH BUGS
There is no way to compare binary values, but there should be.
.SH SEE ALSO
.BR ldap (3),
.BR ldap_error (3)
.SH ACKNOWLEDGEMENTS
.B OpenLDAP
is developed and maintained by The OpenLDAP Project (http://www.openldap.org/).
.B OpenLDAP
is derived from University of Michigan LDAP 3.3 Release.  
